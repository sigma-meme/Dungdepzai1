<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anh D≈©ng c√≥ ƒë·∫πp trai kh√¥ng?</title>
  <style>
    /* CSS t·ª´ ph·∫ßn tr∆∞·ªõc gi·ªØ nguy√™n */
    body {
      background-color: #f0f0f0;
      font-family: Arial, sans-serif;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      overflow: hidden;
      user-select: none;
    }
    /* ... (gi·ªØ nguy√™n to√†n b·ªô CSS c≈©) ... */
    
    /* Th√™m loading animation */
    .loader {
      border: 5px solid #f3f3f3;
      border-top: 5px solid #4CAF50;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
      display: none;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Ph·∫ßn nh·∫≠p t√™n -->
  <div id="name-form">
    <h1>Ch√†o b·∫°n! T√™n b·∫°n l√† g√¨?</h1>
    <input type="text" id="name-input" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n...">
    <button id="start-btn">B·∫Øt ƒë·∫ßu</button>
  </div>

  <!-- Ph·∫ßn ch√≠nh (ban ƒë·∫ßu ·∫©n) -->
  <div id="main-content" class="hidden">
    <img id="meme" src="dung1/pikachu.jpg" alt="Anh D≈©ng" onerror="this.src='https://via.placeholder.com/300x400?text=·∫¢nh+l·ªói'">
    <h1 id="question">Anh D≈©ng c√≥ ƒë·∫πp trai kh√¥ng?</h1>
    
    <div class="buttons-container">
      <button id="yesBtn">C√ì</button>
      <button id="noBtn">KH√îNG</button>
    </div>
    
    <div id="final-message" class="hidden">
      <p>CHU·∫®N CMNR! Anh D≈©ng tuy·ªát v·ªùi nh·∫•t üíö</p>
      <div class="loader" id="loader"></div>
      <p id="send-status"></p>
    </div>
  </div>

  <script>
    // ===== BI·∫æN TO√ÄN C·ª§C ===== //
    let userName = "";
    let noCount = 0;
    const memeLinks = [
      "dung1/pikachu.jpg",
      "dung1/images.jpg",
      "dung1/download.jpg",
      "dung1/download(1).jpg",
      "dung1/download(2).jpg",
      "dung1/download(3).jpg",
      "dung1/download(4).jpg"
    ];

    // ===== X·ª¨ L√ù PH·∫¶N NH·∫¨P T√äN ===== //
    document.getElementById('start-btn').addEventListener('click', function() {
      userName = document.getElementById('name-input').value.trim();
      if (userName) {
        document.getElementById('name-form').classList.add('hidden');
        document.getElementById('main-content').classList.remove('hidden');
      } else {
        alert("Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n!");
      }
    });

    // ===== G·ª¨I EMAIL ===== //
    async function sendEmail() {
      const loader = document.getElementById('loader');
      const statusText = document.getElementById('send-status');
      
      loader.style.display = 'block';
      statusText.textContent = "ƒêang g·ª≠i k·∫øt qu·∫£...";
      statusText.style.color = "#333";

      try {
        // G·ªçi API gi·∫£ l·∫≠p (th·ª±c t·∫ø c·∫ßn backend)
        const response = await fetch('https://api.emailjs.com/api/v1.0/email/send', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            service_id: 'YOUR_SERVICE_ID',
            template_id: 'YOUR_TEMPLATE_ID',
            user_id: 'YOUR_USER_ID',
            template_params: {
              user_name: userName,
              reply: 'ƒê√£ c√¥ng nh·∫≠n anh D≈©ng ƒë·∫πp trai!',
              to_email: 'onichanobakacac@gmail.com'
            }
          })
        });

        // Gi·∫£ l·∫≠p g·ª≠i th√†nh c√¥ng (v√¨ kh√¥ng c√≥ backend th·ª±c)
        setTimeout(() => {
          loader.style.display = 'none';
          statusText.textContent = "‚úÖ ƒê√£ g·ª≠i k·∫øt qu·∫£ v·ªÅ email!";
          statusText.style.color = "#4CAF50";
        }, 2000);

      } catch (error) {
        console.error("L·ªói g·ª≠i email:", error);
        loader.style.display = 'none';
        statusText.textContent = "‚ùå G·ª≠i th·∫•t b·∫°i, vui l√≤ng th·ª≠ l·∫°i!";
        statusText.style.color = "#f44336";
      }
    }

    // ===== X·ª¨ L√ù N√öT B·∫§M ===== //
    document.getElementById('yesBtn').addEventListener('click', function() {
      document.getElementById('final-message').classList.remove('hidden');
      document.querySelector('.buttons-container').style.display = 'none';
      document.getElementById('question').style.display = 'none';
      
      // G·ªçi h√†m g·ª≠i email
      sendEmail();
    });

    // ... (gi·ªØ nguy√™n ph·∫ßn x·ª≠ l√Ω n√∫t KH√îNG v√† c√°c ch·ª©c nƒÉng kh√°c) ...
  </script>

  <!-- Th√™m th∆∞ vi·ªán EmailJS (th·ª±c t·∫ø c·∫ßn ƒëƒÉng k√Ω t√†i kho·∫£n) -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3.2.0/dist/email.min.js"></script>
  <script>
    // Kh·ªüi t·∫°o EmailJS (thay YOUR_USER_ID b·∫±ng ID th·ª±c)
    emailjs.init('YOUR_USER_ID');
  </script>
</body>
</html>
